<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Data Fetching: A Comprehensive Guide</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      /* Global Styles */
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        display: flex;
        background: #f7f7f7;
        color: #333;
      }
      a {
        color: #4caf50;
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }

      /* Sidebar Styles */
      .sidebar {
        width: 250px;
        background-color: #333;
        color: #fff;
        padding: 20px;
        box-sizing: border-box;
        min-height: 100vh;
      }
      .sidebar h2 {
        text-align: center;
        margin: 0 0 20px;
        font-size: 1.6em;
      }
      .sidebar nav details {
        margin-bottom: 10px;
      }
      .sidebar nav details summary {
        cursor: pointer;
        padding: 5px 0;
        font-weight: bold;
        outline: none;
      }
      .sidebar nav ul {
        list-style: none;
        padding-left: 15px;
        margin-top: 5px;
      }
      .sidebar nav ul li {
        margin-bottom: 5px;
      }

      /* Content Styles */
      .content {
        flex: 1;
        padding: 20px;
        box-sizing: border-box;
        overflow-y: auto;
      }
      section {
        background: #fff;
        padding: 20px;
        margin-bottom: 40px;
        border-radius: 4px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }
      section h1 {
        border-bottom: 2px solid #4caf50;
        padding-bottom: 5px;
        margin-bottom: 15px;
      }
      section h2 {
        color: #4caf50;
        margin-top: 20px;
      }
      section p,
      section li {
        line-height: 1.6;
      }
      pre {
        background-color: #f4f4f4;
        padding: 10px;
        overflow-x: auto;
        border-radius: 4px;
      }
      code {
        font-family: Consolas, monospace;
      }
      img {
        display: block;
        margin: 15px 0;
        max-width: 100%;
        height: auto;
        border: 1px solid #ccc;
        border-radius: 4px;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        body {
          flex-direction: column;
        }
        .sidebar {
          width: 100%;
          min-height: auto;
        }
      }
    </style>
  </head>
  <body>
    <!-- Sidebar Navigation -->
    <div class="sidebar">
      <h2>Data Fetching</h2>
      <nav>
        <details open>
          <summary>Chapter 1: Introduction</summary>
          <ul>
            <li><a href="#intro">What is Data Fetching?</a></li>
            <li><a href="#why-fetch">Why It Matters</a></li>
          </ul>
        </details>
        <details>
          <summary>Chapter 2: Client-Side Data Fetching</summary>
          <ul>
            <li><a href="#fetch-api">Fetch API</a></li>
            <li><a href="#axios">Axios</a></li>
          </ul>
        </details>
        <details>
          <summary>Chapter 3: Server-Side Data Fetching</summary>
          <ul>
            <li><a href="#ssr">Server-Side Rendering (SSR)</a></li>
            <li><a href="#nodejs">Node.js & Express</a></li>
          </ul>
        </details>
        <details>
          <summary>Chapter 4: Advanced Data Fetching</summary>
          <ul>
            <li><a href="#graphql">GraphQL Queries</a></li>
            <li><a href="#caching">Caching & Optimization</a></li>
          </ul>
        </details>
        <details>
          <summary>Chapter 5: Error Handling & Best Practices</summary>
          <ul>
            <li><a href="#errors">Error Handling</a></li>
            <li><a href="#best-practices">Best Practices</a></li>
          </ul>
        </details>
      </nav>
    </div>

    <!-- Main Content Area -->
    <div class="content">
      <!-- Chapter 1: Introduction -->
      <section id="intro">
        <h1>Chapter 1: Introduction to Data Fetching</h1>
        <h2>What is Data Fetching?</h2>
        <p>
          Data fetching is the process of retrieving data from a remote source
          (such as a server or API) to use in your application. Whether you're
          building a simple website or a complex web application, efficient data
          fetching is essential for displaying up-to-date information.
        </p>
        <img
          src="https://via.placeholder.com/500x300?text=Data+Fetching+Overview"
          alt="Data Fetching Overview Diagram"
        />
        <h2 id="why-fetch">Why It Matters</h2>
        <p>
          Proper data fetching improves user experience by reducing load times,
          ensuring accurate data is displayed, and enabling dynamic content
          updates. It forms the backbone of modern web applications.
        </p>
      </section>

      <!-- Chapter 2: Client-Side Data Fetching -->
      <section id="fetch-api">
        <h1>Chapter 2: Client-Side Data Fetching</h1>
        <h2>Using the Fetch API</h2>
        <p>
          The <code>fetch</code> API is a modern, promise-based method to
          perform asynchronous HTTP requests in the browser.
        </p>
        <img
          src="https://via.placeholder.com/500x300?text=Fetch+API+Diagram"
          alt="Fetch API Diagram"
        />
        <h3>JavaScript Code Example: Basic Fetch Request</h3>
        <pre><code>
// Using Fetch API to get data from an endpoint
fetch('https://api.example.com/data')
  .then(response => {
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    return response.json();
  })
  .then(data => {
    console.log('Data received:', data);
  })
  .catch(error => {
    console.error('Fetch error:', error);
  });
      </code></pre>
        <p>
          <em>Explanation:</em> This example shows a basic fetch call that
          handles both a successful response and potential errors.
        </p>
      </section>

      <section id="axios">
        <h2>Axios: An Alternative Client-Side Approach</h2>
        <p>
          Axios is a popular HTTP client library that simplifies HTTP requests
          and automatically handles JSON data transformation.
        </p>
        <img
          src="https://via.placeholder.com/500x300?text=Axios+Diagram"
          alt="Axios Diagram"
        />
        <h3>JavaScript Code Example: Axios GET Request</h3>
        <pre><code>
// Using Axios to fetch data
axios.get('https://api.example.com/data')
  .then(response => {
    console.log('Axios data:', response.data);
  })
  .catch(error => {
    console.error('Axios error:', error);
  });
      </code></pre>
        <p>
          <em>Explanation:</em> This snippet demonstrates how to use Axios for a
          GET request, including basic error handling.
        </p>
      </section>

      <!-- Chapter 3: Server-Side Data Fetching -->
      <section id="ssr">
        <h1>Chapter 3: Server-Side Data Fetching</h1>
        <h2>Server-Side Rendering (SSR)</h2>
        <p>
          SSR involves fetching data on the server before sending the fully
          rendered page to the client. This approach can improve SEO and initial
          load times.
        </p>
        <img
          src="https://via.placeholder.com/500x300?text=SSR+Diagram"
          alt="SSR Diagram"
        />
        <h3>Example: Next.js Data Fetching</h3>
        <pre><code>
// pages/index.js (Next.js example)
export async function getServerSideProps(context) {
  const res = await fetch('https://api.example.com/data');
  const data = await res.json();
  return { props: { data } };
}

const HomePage = ({ data }) => (
  &lt;div&gt;
    &lt;h1&gt;Server-Side Rendered Data&lt;/h1&gt;
    &lt;pre&gt;{JSON.stringify(data, null, 2)}&lt;/pre&gt;
  &lt;/div&gt;
);

export default HomePage;
      </code></pre>
        <p>
          <em>Explanation:</em> This Next.js example fetches data on the server
          and passes it as props to the React component, resulting in a fully
          rendered HTML page.
        </p>
      </section>

      <section id="nodejs">
        <h2>Node.js &amp; Express: API Endpoint Example</h2>
        <p>
          On the server side, data fetching can involve querying a database or
          integrating with third-party APIs. Here's a simple Express.js API
          endpoint that returns JSON data.
        </p>
        <img
          src="https://via.placeholder.com/500x300?text=Node.js+Express+Diagram"
          alt="Node.js Express Diagram"
        />
        <h3>JavaScript Code Example: Express API</h3>
        <pre><code>
// server.js using Express
const express = require('express');
const app = express();
const port = 3000;

app.get('/api/data', (req, res) => {
  const sampleData = { id: 1, message: "Hello from the server!" };
  res.json(sampleData);
});

app.listen(port, () => {
  console.log(`Server is running on http://localhost:${port}`);
});
      </code></pre>
        <p>
          <em>Explanation:</em> This code sets up a basic Express server with an
          API endpoint that returns sample JSON data.
        </p>
      </section>

      <!-- Chapter 4: Advanced Data Fetching -->
      <section id="graphql">
        <h1>Chapter 4: Advanced Data Fetching</h1>
        <h2>GraphQL Queries</h2>
        <p>
          GraphQL allows clients to request exactly the data they need in a
          single query, reducing over-fetching or under-fetching issues.
        </p>
        <img
          src="https://via.placeholder.com/500x300?text=GraphQL+Diagram"
          alt="GraphQL Diagram"
        />
        <h3>JavaScript Code Example: GraphQL Fetch</h3>
        <pre><code>
// Fetching data from a GraphQL endpoint using fetch
fetch('https://api.example.com/graphql', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    query: `
      {
        user(id: 1) {
          id
          name
          email
        }
      }
    `
  })
})
  .then(response => response.json())
  .then(result => console.log('GraphQL result:', result))
  .catch(error => console.error('GraphQL error:', error));
      </code></pre>
        <p>
          <em>Explanation:</em> This example shows how to perform a GraphQL
          query by sending a POST request with a query in the body, and then
          processing the JSON response.
        </p>

        <h2 id="caching">Caching & Optimization</h2>
        <p>
          Caching improves performance by storing frequently requested data.
          Techniques include HTTP caching, in-memory caching (e.g., Redis), and
          client-side caching libraries.
        </p>
        <img
          src="https://via.placeholder.com/500x300?text=Caching+Diagram"
          alt="Caching Diagram"
        />
        <p>
          Additionally, using tools such as SWR or React Query in React
          applications can simplify caching and re-fetching logic.
        </p>
      </section>

      <!-- Chapter 5: Error Handling & Best Practices -->
      <section id="errors">
        <h1>Chapter 5: Error Handling & Best Practices</h1>
        <h2>Error Handling</h2>
        <p>
          Robust error handling is essential for data fetching. Always check for
          HTTP errors, handle network issues gracefully, and provide user
          feedback when errors occur.
        </p>
        <h3>JavaScript Code Example: Enhanced Error Handling</h3>
        <pre><code>
// Enhanced fetch with error handling
async function fetchData(url) {
  try {
    const response = await fetch(url);
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    const data = await response.json();
    console.log('Data:', data);
  } catch (error) {
    console.error('Error fetching data:', error);
    // Optionally display a user-friendly error message in the UI
  }
}

fetchData('https://api.example.com/data');
      </code></pre>
        <p>
          <em>Explanation:</em> This async/await example wraps the fetch call in
          a try/catch block to handle errors effectively, including non-200 HTTP
          responses.
        </p>

        <h2 id="best-practices">Best Practices</h2>
        <ul>
          <li>Always validate responses and handle error cases.</li>
          <li>Use caching to reduce unnecessary network requests.</li>
          <li>Keep your data fetching logic separate from UI components.</li>
          <li>
            Utilize libraries (like Axios, React Query, or SWR) to simplify data
            fetching in larger applications.
          </li>
        </ul>
      </section>
    </div>
  </body>
</html>
